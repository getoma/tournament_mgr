{% extends 'base/layout.twig' %}
{% import 'base/form.twig' as form %}
{% import 'base/match.twig' as part %}

{% set route_parameters = { 'tournamentId': tournament.id, 'categoryId': category.id } %}

{% block content %}
<nav>
  <ul>
    <li><a href="{{ url_for('show_category_cfg', route_parameters) }}">Kategorie konfigurieren</a></li>
  </ul>
</nav>

<section>
<h2>{{ category.name }} </h2>
{% if pools is not empty %}
<section>
<h3>Pools</h3>
{{ part.printPools(pools, route_parameters) }}
</section>
{% endif %}

{% if ko is defined %}
<section>
<h3>KO-Runde</h3>
{{ part.printKo(ko, chunks, route_parameters) }}
</section>
{% endif %}

{% if unmapped_participants is not empty %}
<section>
  <h3>Nicht zugewiesen</h3>
  <ul>
    {% for p in unmapped_participants %}
    <li>{{p.lastname}}, {{p.firstname}}</li>
    {% endfor %}
  </ul>
</section>
{% endif %}

<form action="{{url_for('reset_category_results', route_parameters)}}" method="post">
  <button type="submit">Ergebnisse l√∂schen</button>
</form>

</section>
{% endblock %}

